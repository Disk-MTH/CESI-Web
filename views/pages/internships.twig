{% set title = "Stagify - Stages" %}
{% set alternative_search_bar = true %}
{% set pagination = true %}
{% extends "components/layouts/layout.twig" %}
{% import "components/forms/radio_field.twig" as radio_field %}
{% import "components/forms/suggestion_field.twig" as suggestion_field %}

{% block templates %}
    {{ include("components/tiles/internship_tile.twig") }}
{% endblock %}

{% block header %}
    <section class="bg-deepWarmGrey ">
        <div class="container py-3">
            <div class="row ">
                <div class="col-lg-8 col-md-7 col-5">
                    <div class="pt-2">Recherche de stages</div>
                </div>
                <div class="col-lg-4 col-md-5 col-7 text-end">
                    <div class="dropdown dropdown-menu-end">
                        <div class="btn btn-deepWarmGrey shadow" data-bs-toggle="dropdown"
                             data-bs-target="#intershipsFilters">
                            <img src="/assets/svg/misc/sliders.svg" alt="slider"> Filtres
                        </div>

                        <div class="dropdown-menu shadow-lg px-4" id="intershipsFilters">
                            <label class="pt-2">Filtrer les stages :</label>
                            <div class="dropdown-divider"></div>

                            {{ radio_field.content("dateDesc", "date", "Date (récent)") }}
                            {{ radio_field.content("dateAsc", "date", "Date (ancien)") }}

                            <div class="dropdown-divider"></div>

                            {{ radio_field.content("ratingDesc", "rating", "Avis (décroissant)") }}
                            {{ radio_field.content("ratingAsc", "rating", "Avis (croissant)") }}

                            <div class="dropdown-divider"></div>

                            {{ suggestion_field.content("skills", "Compétences") }}

                            <div class="dropdown-divider"></div>

                            <div class="row pt-2">
                                <div class="col text-start">
                                    <div class="btn btn-deepSeaBlue" onclick="resetFilters()">Réinitialiser</div>
                                </div>
                                <div class="col text-end">
                                    <div class="btn btn-deepSeaBlue" onclick="applyFilters()">Valider</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block content %}
    <section>
        <div class="container pt-4">
            <div class="row" id="internships"></div>
        </div>
    </section>
{% endblock %}

{% block scripting %}
    <script src="/assets/pages/internships.js"></script>
    <script>suggestion("skills");</script>
{% endblock %}